# 计算机网络

标签（空格分隔）： 前端知识体系

---

由若干结点和连接这些结点的链路组成

## 术语

* 结点：计算机（主机）、集线器、交换机或路由器等网络结点
* 链路：连接结点
* 互连网：网络通过路由器互连成一个更大的网络
* ISP: 互连网服务提供商

## 分类

* WAN: Wide Area Network, 广域网
* MAN: Metropolitan Area Network, 城域网
* LAN: Local Area Network, 局域网
* PAN: Personal Area Network, 个人区域网

## 组成

三级结构

### 网络

多个结点通过链路互联组成一个网络

* 网卡：将计算机连接到数据链路层
* 通信媒介：传输信号
* 中继器：对减弱的信号进行放大和发送
* 集线器：多口中继器
* 交换机：在数据链路层转发信号

### 互连网

多个网络通过路由器连接

* 路由器：3层交换机，根据IP地址在数据链路层间转发信号

### 接入网

连接ISP的通信线路

* 互联网接入路由器：接入ISP的入口
* 宽带接入服务器：进行用户认证和配置下发，给计算机分配公有地址
* 隧道专用路由器：将包转发到互联网内部

### 骨干网

互联网的中心，快速传输大量数据

* POP：Point of Presense，互联网接入点
* NOC：Network Operation Center，网络运行中心，连接运营商的多个POP
* IX：Internet Exchange，互联网交换中心，用于多个运营商之间的连接

### 服务器

提供服务

 * 网关：协议转换和数据转发
 * 防火墙：过滤数据
 * 代理服务器：代理访问
 * 负载均衡器：将请求分配到多台服务器上

## 通信

计算机程序之间的通信

### C/S方式

Client/Server，客户端/服务器方式

* 客户端：请求服务
* 服务器：提供服务

### P2P方式

Peer-to-Peer，对等方式

* 对等连 接中的每一台主机既是客户端又是服务器端

## 交换

按照某种方式动态分配传输线路的资源

### 电路交换

用户始终占用端到端的通信资源

* 建立连接：占用通信资源
* 通话：一直占用通信资源
* 释放连接：归还通信资源

### 分组交换

采用存储转发技术，逐段占用通信链路

* 主机将报文划分为多个分组发送
* 路由器接收到分组后，先存储下来
* 路由器检查分组的首部和自己的转发表，将分组转发到下一个结点

## 性能

* 速率：数据的发送速率，单位bit/s
* 带宽：信道所能传输的最高速率，单位bit/s
* 吞吐量：单位时间内通过某个网络的实际数据量
* 时延：数据从网络一端传送到另一端所需的时机
 * 发送时延：节点发送数据帧所需的时间
 * 传播时延：电磁波在信道中传播一定距离所需的时间
 * 处理时延：节点接收到数据帧进行处理的时间
 * 排队时延：分组在路由器输入队列、输出队列中排队的时间
* 时延带宽积：传播时延 * 带宽
* 往返时间RTT：Round-Trip Time
* 信道利用率：信道有百分之几的时间是被利用的
* 网络利用率：全网络的信道利用率的加权平均值，利用率越高，时延越大

## 体系结构

计算机网络各层及其协议的集合

### 协议

计算机与计算机之间通过网络实现通信时事先达成的一种约定

* 语法：数据与控制信息的格式
* 语义：需要发出何种控制信息，完成何种动作以及做出何种响应
* 同步：事件实现顺序的详细说明

### OSI七层模型

* 应用层：规定应用程序通信的相关细节
* 表示层：应用处理信息与网络标准数据格式的转换
* 会话层：通信管理，负责何时建立和断开通信连接
* 传输层：管理两个节点之间的实际连接和数据传输
* 网络层：负责寻址和路由选择
* 数据链路层：互联设备之间传送和识别数据帧
* 物理层：比特流与电子信号之间的转换

### 数据流

发送端从应用层往下走，接收端从物理层往上走

* 发送端在层与层传输数据时，每经过一层时加上该层的首部消息
* 接收端在层与层传输数据时，每经过一层时删去该层的首部消息

## 五层体系结构

互联网实际使用的体系结构

### 应用层

应用程序间的通信，数据传输单位为报文

* DNS协议：查询DNS
* DHCP协议：动态分配IP
* HTTP协议：Web访问
* SMTP协议：发送和接收电子邮件
* FTP协议：文件传输
* SSH协议：远程登录
* SNMP协议：网络管理

### 传输层

主机进程间的通信

* TCP协议：提供面向连接的、可靠的数据传输服务，数据传输单位为报文段
* UDP协议：提供无连接的、尽最大努力的数据传输服务，数据传输单位为用户数据报

### 网络层

分组交换网内的主机间的通信

* IP协议：通过IP地址实现主机到主机的通信
* ARP协议：从IP地址中解析出MAC地址
* ICMP协议：IP数据包发送异常时发出通知

### 链路层

数据链路内的结点间的通信

* 以太网协议：以太网结点通信
* WiFi协议：无线局域网结点通信

### 物理层

把电脑连接起来的物理手段，负责传送数字信号

* 将数字信号调制成电信号或光信号传输
* 将电信号或光信号解调成数字信号读取

## 数据包

* 首部：当前协议所用到的首部
 * 发送端和接收端的地址
 * 上一层的协议类型
* 数据：上层传过来的数据
* 检验和：检验数据是否破坏

### 地址

标识通信对象，具有唯一性和层次性

* MAC地址：硬件地址
* IP地址：网络地址
* 端口号：应用程序地址
