# Bash命令

标签（空格分隔）： 前端知识体系

---

绝大多数Linux发行版的默认Shell

## Shell

与Kernel相对应，用户跟内核交互的对话界面

* 命令行环境
* 命令解释器

### 种类

* Bourne Shell（sh）
* Bourne Again Shell（bash）
* C Shell（csh）
* Z Shell（zsh）

## Session

每次使用Shell时，都会开启一个Session

### 登录Session

用户登录系统以后，系统为用户开启的原始Session，进行整个系统的初始化，启动的初始化脚本依次如下

* `/etc/profile`：所有用户的全局配置脚本
* `/etc/profile.d`目录里的所有`.sh`脚本
* `~/.bash_profile`：用户的个人配置脚本
* `~/.bash_login`：`~/.bash_profile`不存在时执行
* `~/.profile`：`~/.bash_login`不存在时执行

### 非登录Session

进入系统以后，手动新建的Session，启动的初始化脚本依次如下

* `/etc/bash.bashrc`：对全体用户有效
* `~/.bashrc`：对当前用户有效

### .bash_logout

每次退出Session时执行，通常做一些清理工作和记录工作

## 启动

### bash

启动

| 命令 | 说明 |
| --- | --- |
| `bash` | 创建子bash |
| `bash <script>` | 创建子bash，并执行脚本 |
| `bash [option] <script>` | 设置bash选项 |

### exit

退出

| 命令 | 说明 |
| --- | --- |
| `eixt` | 退出当前Shell，返回值为最后一条命令的返回值 |
| `exit <N>` | 退出shell并返回退出值N，0-成功，非0-失败 |

### source

执行脚本

| 命令 | 说明 |
| --- | --- |
| `source <script>` | 在当前Shell执行脚本，用于重新读取配置或在脚本中加载其他库 |
| `. <script>` | 同source |

### ulimit

bash限制

| 命令 | 说明 |
| --- | --- |
| `ulimit -a` | 查看所有限制 |
| `ulimit -m` | 查看能打开的文件数 |

### set

设置bash的运行参数

| 命令 | 说明 |
| --- | --- |
| `set` | 显示所有环境变量、自定义变量、函数 |
| `set -o <option>` | 启动选项 |
| `set +o <option>` | 关闭选项 |
| `set -e` | `set -o errexit`，发生错误时终止执行 |
| `set -u` | `set -o nounset`，变量不存在时报错并终止执行 |
| `set -x` | `set -o xtrace`，输出执行的命令 |
| `set -o pipefail` | 只要一个子命令失败，整个管道命令就失败 |
| `set -n` | `set -o noexec`，不执行脚本，只检查语法是否正确 |
| `set -f` | `set -o noglob`，不对通配符进行文件名扩展 |

```bash
set -euxo pipefail
```

## 命令

```
<command> [option...] [arg...]
```

* command: 命令或可执行文件，为命令时去$PATH中查找命令对应的可执行文件
* option: 命令选项，分短选项和长选项两种，可多个
* arg: 命令参数，可多个
* 空格: 分隔命令、选项、参数，根据空格将用户输入拆成词元，多个空格当成一个
* `--`：配置项参数中止符，后面的参数只能作为命令参数，不能作为选项处理
* \Enter: 换行
* Enter: 执行命令，返回结果，0-成功，非0-失败

### 命令提示符

由环境变量`PS1`决定

```bash
$ echo $PS1
[\u@\h \W]\$
```

| 特殊字符 | 说明 |
| --- | --- |
| `\u` | 当前用户名 |
| `\h` | 主机名 |
| `\H` | 完整的主机名 |
| `\w` | 当前工作路径 |
| `\W` | 当前目录名 |
| `\$` | 提示符，普通用户为$，根用户为# |
| `\d` | 当前日期，格式为星期 月 日 |
| `\t` | 当前时间，格式为时:分:秒，24小时制 |
| `\T` | 当前时间，格式为时:分:秒，12小时制 |
| `\A` | 当前时间，格式为时:分，24小时制 |
| `\@` | 当前时间，格式为时:分，12小时制，带AM/PM |
| `\[` | 非打印字符序列的开始标志，用于设置颜色 |
| `\]` | 非打印字符序列的结束标志 |
| `\r` | 回车 |
| `\n` | 换行 |

```bash
# 设置颜色
PS1='\[\033[0;36m\][\u@\h \W]\$\[\033[00m\] '

# 设置背景颜色
PS1='\[\033[0;41m\][\u@\h \W]\$\[\033[0m\] '
```

### 组合

* `;`：命令结束符，上一个命令执行完后执行下一个命令
* `&&`：且命令，上一个命令执行成功后执行下一个命令
* `||`：或命令，上一个命令执行失败后执行下一个命令
* `!`：非命令，命令执行结果取非

### alias

别名

| 命令 | 说明 |
| --- | --- |
| `alias` | 查看别名 |
| `alias <name>=<command>` | 设置别名，等号两边不能有空格 |
| `unalias <name>` | 取消别名 |

### type

查看命令类型

| 命令 | 说明 |
| --- | --- |
| `type <command>` | 查看命令的定义 |
| `type -a <command>` | all，查看命令的所有定义 |
| `type -t <command>` | type，查看命令类型，builtin-内置命令，file-文件，alias-别名，keyword-关键字，function-函数 |
| `type -P <command>` | path，查看命令的文件路径 |

## 模式扩展

对词元中的特殊字符进行扩展

* 先解释，再执行
* 文件名扩展只匹配单层路径
* 文件名扩展不匹配时，原样输出
* 文件名中包含特殊字符时需要放在引号内

### 波浪线扩展

~扩展为主目录

| 特殊字符 | 说明 |
| --- | --- |
| `~` | 当前用户的主目录 |
| `~<user>` | 指定用户的主目录，用户不存在时原样输出 |
| `~+` | 当前工作目录 |

### ?字符扩展

?扩展为任意单个字符，文件名扩展

| 特殊字符 | 说明 |
| --- | --- |
| `?` | 匹配任意单个字符 |

### *字符扩展

?扩展为任意数量字符，文件名扩展

| 特殊字符 | 说明 |
| --- | --- |
| `*` | 匹配任意数量字符 |
| `.*` | 匹配隐藏文件 |
| `.[!.]*` | 匹配除.、..外的隐藏文件 |
| `**` | 匹配零个或多个子目录 |

### 方括号扩展

[...]扩展为方括号内的任一字符，文件名扩展

| 特殊字符 | 说明 |
| --- | --- |
| `[...]` | 匹配方括号内的任一字符 |
| `[][-]` | 匹配方括号或连字符，放在开头或末尾 |
| `[^...]` | 匹配不在方括号内的任一字符 |
| `[!...]` | 匹配不在方括号内的任一字符 |

### [start-end]扩展

[start-end]扩展为连续的范围，文件名扩展

| 特殊字符 | 说明 |
| --- | --- |
| `[start-end]` | 匹配连续的范围内的任一字符 |
| `[!start-end]` | 匹配不在连续的范围内的任一字符 |
| `[a-zA-z0-9]` | 匹配小写字母、大写字母、数字 |

### 字符类扩展

[[:clsss:]]扩展为某类特定字符中的任一字符，文件名扩展

| 特殊字符 | 说明 |
| --- | --- |
| `[[:class:]]` | 匹配某类特定字符 |
| `[![:class:]]` | 否定 |
| `[[:blank:]]` | 匹配空格和Tab |
| `[[:space:]]` | 匹配空格、Tab、VT、FF、CR、LF|
| `[[:digit:]]` | 匹配数字 |
| `[[:xdigit:]]` | 匹配十六进制字符 |
| `[[:lower:]]` | 匹配小写字母 |
| `[[:upper:]]` | 匹配大写字母 |
| `[[:alpha:]]` | 匹配英文字母 |
| `[[:alnum:]]` | 匹配英文字母、数字 |
| `[[:punct:]]` | 匹配标点符号 |
| `[[:graph:]]` | 匹配英文字母、数字、标点符号 |
| `[[:cntrl:]]` | 匹配ASCII码0-31的不可打印字符 |
| `[[:print:]]` | 匹配ASCII码32-127的可打印字符 |

### 量词扩展

重复匹配，文件名扩展

| 特殊字符 | 说明 |
| --- | --- |
| `?(patern-list)` | 匹配0次或1次 |
| `*(patern-list)` | 匹配0次或多次 |
| `+(patern-list)` | 匹配1次或多次 |
| `@(patern-list)` | 只匹配1次 |
| `!(patern-list)` | 匹配0次或1次以上 |

### 变量扩展

$开头的词元扩展为变量

| 特殊字符 | 说明 |
| --- | --- |
| `$variable` | 变量，变量不存在时返回空字符 |
| `${variable}` | 变量 |
| `${!variable}` | variable值为变量字符串时继续展开，直至最终的值 |
| `${!string*}` | 返回所有以指定字符串开头的变量名 |
| `${!string@}` | 返回所有以指定字符串开头的变量名 |

Shell提供的特殊变量

| 特殊变量 | 说明 |
| --- | --- |
| `$0` | 当前Shell的名称 |
| `$$` | 当前Shell的进程ID |
| `$-` | 当前Shell的启动参数 |
| `$?` | 上一个命令的退出码，0-成功，非零-失败 |
| `$_` | 上一个命令的最后一个参数 |
| `$!` | 最近一个后台执行的异步命令的进程ID |

### 子命令扩展

$(...)扩展为括号内命令的执行结果

| 特殊字符 | 说明 |
| --- | --- |
| `${command}` | 扩展为命令的执行结果，可嵌套 |
| ``command`` | 反引号之中，扩展为命令的执行结果 |

### 算术扩展

$((...))扩展为整数运算的结果

| 特殊字符 | 说明 |
| --- | --- |
| `$((expr))` | 扩展为整数运算的结果，可嵌套 |

### 大括号扩展

{...}扩展为大括号内的所有值

| 特殊字符 | 说明 |
| --- | --- |
| `{token1,token2,...}` | 扩展成所有给定的值，逗号前后不能有空格 |
| `{{...}...}` | 可嵌套，可与其他模式联用 |

### {start..end}扩展

{start..end}扩展为start到end的所有值

| 特殊字符 | 说明 |
| --- | --- |
| `{start..end}` | 扩展为start到end的所有值，无法理解时原样输出 |
| `{start..end..step}` | 支持step |
| `{end..start}` | 支持逆序 |
| `{01..05}` | 支持前导0 |
| `{start1..end1}{start2..end2}` | 嵌套循环 |

### shopt

Bash选项设置，Bash特有

| 命令 | 说明 |
| --- | --- |
| `shopt` | 输出所有Shell选项 |
| `shopt <option>` | 输出指定Shell选项 |
| `shopt -s <option>` | 打开指定Shell选项 |
| `shopt -u <option>` | 关闭指定Shell选项 |
| `shopt -q <option>` | 查询指定Shell选项是否打开，0-打开，1-关闭 |
| `shopt dotglob` | 扩展结果是否包括隐藏文件，默认为off |
| `shopt nullglob` | 文件名扩展不匹配时是否返回空字符，默认为off |
| `shopt failglob` | 文件名扩展不匹配时是否直接报错，默认为off |
| `shopt extglob` | 是否支持量词扩展，默认为on |
| `shopt nocaseglob` | 是否不区分大小写，默认为off |
| `shopt globstar` | 是否支持**，默认为off |

## 字符串

### 转义

使用`\`转义

* `$、&、*`等在Bash中有特殊含义的字符需要转义才能原样输出
* `\`也需要转义
* `Enter`转义后变成多行模式
* Bash不能正确解释`\`转义的不可打印字符，需要包含在引号中

### 单引号

保留字符的表面含义，所有字符变为普通字符

* 模式扩展失效
* 转义失效
* Enter失效，变为多行模式
* 多空格原样保持

### 双引号

大部分特殊字符变为普通字符，保留美元符号、反引号、反斜杠

* 变量扩展、子命令扩展、算术扩展仍有效
* 转义有效
* 保留原始命令的输出格式

### Here文档

将多行文本重定向到标准输入传递给命令

```bash
command << token
txt
token

# 相当于
echo string | command
```

* `<< token`：开始标记，token为文档名称
* `txt`：文本，支持$和转义
* `token`：结束标记，必须单独一行顶格

### Here字符串

将字符串重定向到标准输入传递给命令

```bash
command <<< string
```

### echo

输出文本

| 命令 | 说明 |
| --- | --- |
| `echo <text>` | 输出文本 |
| `echo -n <text>` | 取消末尾的换行符 |
| `echo -e "<text>"` | 解释引号中转义的不可打印字符，如\n |

## 变量

### 环境变量

Bash环境自带的变量

* 系统定义好的
* 由父Shell传递给子Shell的

#### 常见环境变量

| 环境变量 | 说明 |
| --- | --- |
| `TERM` | 终端 |
| `SHEEL` | 当前运行的shell |
| `LANG` | 字符集及编码 |
| `USER` | 用户名 |
| `UID` | 用户ID |
| `HOSTNAME` | 主机名 |
| `PWD` | 当前工作目录 |
| `PS1` | 命令提示符，默认为`[\u@\h \W]\$ ` |
| `PS2` | 命令行折行时的提示符，默认为`> ` |
| `PS3` | 用户选择select菜单时的提示符，默认为`#? ` |
| `PS4` | `set -x`，输出执行命令的提示符，默认为`+ ` |
| `HOME` | 当前用户主目录 |
| `PATH` | 可执行文件查找目录 |
| `HISTFILE` | 操作历史文件 |
| `HISTSIZE` | 操作历史文件最大记录数 |
| `IFS` | Internal Field Separator，内部字段分隔符，默认为空格、Tab、换行 |
| `RANDOM` | 0到32767之间的随机整数 |

#### env

启动环境，设置环境变量或执行命令

| 命令 | 说明 |
| --- | --- |
| `env` | 显示所有环境变量 |
| `env -i` | 不带环境变量启动 |
| `env <name>=<value>` | 启动环境，设置环境变量 |
| `env <comman>` | 启动环境，执行命令 |

#### printenv

显示环境变量

| 命令 | 说明 |
| --- | --- |
| `printenv` | 显示所有环境变量 |
| `printenv <variable>` | 查看指定环境变量 |

### 自定义变量

用户在当前Shell中定义的变量

#### 创建变量

```bash
variable=value;var2=value2...
```

* variable：变量名
 * 字母、数字、下划线组成
 * 数字不开头
* =：等号
 * 两边不能有空格
 * 可以重复赋值
* value：变量值
 * 字符串类型
 * 可以包括扩展
* 分号：分隔多个变量定义

#### 读取变量

```bash
echo $variable
echo ${variable}
```

#### 删除变量

```bash
unset variable
variable=
variable=''
```

#### 输出变量

```bash
export variable=value
```

* 将变量传递给子Shell，相当于子Shell的环境变量
* 子Shell修改输出变量不会影响到父Shell

#### 变量默认值

返回默认值

```
# 相当于 varname || word
${varname:-word}
```

设置默认值

```
# 相当于 fn(varname = word)
${varname:=word}
```

测试变量是否存在

```
# 相当于 varname ? word : ''
${varname:+word}
```

防止变量未定义

```
# 相当于 varname ? varname : throw new Error(`${varname}:${word}`)
${varname:?word}
```

#### declare

声明特殊类型的变量

| 命令 | 说明 |
| --- | --- |
| `declare` | 输出所有变量，相当于set |
| `declare -r <variable>=<value>` | readonly，声明只读变量，无法修改、删除 |
| `declare -l <variable>=<value>` | lower，声明变量为小写字母 |
| `declare -u <variable>=<value>` | upper，声明变量为大写字母 |
| `declare -i <variable>=<value>` | int，声明整数变量 |
| `declare -a <variable>=<value>` | array，声明数组变量 |
| `declare -A <variable>=<value>` | 声明关联数组（对象） |
| `declare -p` | 输出所有变量信息 |
| `declare -p <variable>` | 输出指定变量信息 |
| `declare -f` | 输出所有函数 |
| `declare -F` | 输出所有函数名 |
| `declare -f <fn>` | 输出指定函数定义 |
| `declare -x <variable>` | 相当于export |

#### readonly

声明只读变量

| 命令 | 说明 |
| --- | --- |
| `readonly -p` | 输出所有只读变量 |
| `readonly <variable>=<value>` | 声明只读变量 |
| `readonly -a <variable>=<value>` | 声明的只读变量为数组 |
| `readonly -f <variable>=<value>` | 声明的只读变量为函数 |

#### let

声明变量并执行数字运算

| 命令 | 说明 |
| --- | --- |
| `let <variable>=<expression>` | 声明变量，值为数字运算结果 |
| `let "<variable>=<expression>"` | 表达式中有空格 |
| `let <variable>=<expression> <var2>=<exp2>` | 声明多个 |

## 字符串操作

### 长度

| 语法 | 说明 |
| --- | --- |
| `${#variable}` | 获取字符串长度 |

### 大小写转换

| 语法 | 说明 |
| --- | --- |
| `${variable^^}` | 转换为大写 |
| `${variable,,}` | 转换为小写 |

### 截取

| 语法 | 说明 |
| --- | --- |
| `${variable:offset:length}` | 提取子字符串，offset为负数时倒数，length省略时到字符串结尾 |

### 匹配

| 语法 | 说明 |
| --- | --- |
| `${variable#pattern}` | 在开头处非贪婪匹配，返回剩余部分，原始变量不发生变化，pattern中可以使用*、?、[]等通配符 |
| `${variable##pattern}` | 在开头处贪婪匹配，返回剩余部分 |
| `${variable%pattern}` | 在结尾处非贪婪匹配，返回剩余部分 |
| `${variable%pattern}` | 在结尾处贪婪匹配，返回剩余部分 |
| `${variable/pattern/string}` | 从开头开始贪婪匹配，将第一个匹配替换为string |
| `${variable//pattern/string}` | 从开头开始贪婪匹配，将所有匹配替换为string |
| `${variable/#pattern/string}` | 在开头处贪婪匹配，替换为string |
| `${variable/%pattern/string}` | 在结尾处贪婪匹配，替换为string |

## 数字操作

### 进制

* number：十进制
* 0number：八进制
* 0xnumber：十六进制
* base#number：base进制

### 运算

```bash
((expression))
```

* 忽略括号内的空格
* 进行整数运算
 * 算术运算：`+ - * / % ++ -- ** ()`
 * 位运算：`& | ~ ^ << >>`
 * 逻辑运算：`< > <= >= == != && || ! expr1?expr2:expr3`，true返回1，false返回0
 * 赋值运算：`= += -= *= /= %= &= |= ^= <<= >>=`
 * 求值运算：`,`
* 支持变量
 * 变量前不需要加$
 * 变量不存在时当作0处理
 * 字符串会当成变量处理，直至得到最终的值
* 不返回值
 * 使用`${{...}}`显示运算结果
 * 运算结果不为0时算作命令执行成功

### expr

整数运算

| 命令 | 说明 |
| --- | --- |
| `expr <expression>` | 进行整数运算，支持变量扩展 |

## 流操作

字符流处理

* 通过键盘（默认输入）或文件（普通文件、文件描述符、设备文件）输入到stdin，stdin再输入到命令
* 命令产生输出，输出到stdout或stderr，stdout或stderr再输出到屏幕（默认输出）或文件

### 文件描述符

系统会为打开的文件分配一个文件描述符，用于跟踪打开的文件

| 文件描述符 | 说明 |
| --- | --- |
| `0` | stdin，标准输入流，提供输入给命令 |
| `1` | stdout，标准输出流，显示命令的输出 |
| `2` | stderr，标准错误流，显示命令的错误输出 |
| `3-max` | 其他打开的文件，max为当前Shell最大能打开的文件数 |

### 重定向输出

* `n>`：重定向文件描述符n对应的输出到文件，文件不存在时创建，文件存在时覆盖原内容
 * 文件描述符：1 - 标准输出，2 - 标准错误，& - 标准输出和标准错误，默认为标准输出
 * 文件：/path/file - 普通文件，&n - 文件描述符对应的文件，&- - 关闭输出，/dev/null - 输出到空设备文件
* `n>>`：重定向文件描述符n对应的输出到文件，文件不存在时创建，文件存在时在原内容上追加

### 重定向输入

* `<`：重定向文件到标准输入

### 管道

* `|`：将标准输出重定向到标准输入
* `| xargs`：将标准输出重定向到标准输入，xargs读取标准输入作为参数

```bash
ls | grep "1"
ls | xargs grep "1"
```

## 行操作

Bash内置的Readline库用于行操作

### 自动补全

| 快捷键 | 说明 |
| --- | --- |
| `Tab` | 自动补全（命令补全、路径补全、变量名补全、用户名补全、主机名补全）|
| `两次Tab` | 列出可能的补全 |
| `Alt + ?` | 列出可能的补全 |
| `Alt + /` | 文件路径补全 |
| `Alt + !` | 命令补全 |
| `Alt + $` | 变量名补全 |
| `Alt + ~` | 用户名补全 |
| `Alt + @` | 尝试文件路径补全 |

### 操作历史

| 快捷键 | 说明 |
| --- | --- |
| `Up` | 显示上一个命令 |
| `Down` | 显示下一个命令 |
| `Ctrl + P` | 显示上一个命令 |
| `Ctrl + N` | 显示下一个命令 |
| `Alt + .` | 显示上一个命令的最后一个参数 |
| `!!` | 执行上一个命令 |
| `!n` | 执行第n个命令 |
| `!-n` | 执行往前数n的命令 |
| `!string` | 执行最近以string开头的命令 |
| `!?string` | 执行最近包含string的命令 |
| `Ctrl + r` | 搜索操作历史 |

### 移动

| 快捷键 | 说明 |
| --- | --- |
| `Left` | 左移一个字符 |
| `Right` | 右移一个字符 |
| `Ctrl + B` | 左移一个字符 |
| `Ctrl + F` | 右移一个字符|
| `Alt + B` | 移动到词首 |
| `Alt + F` | 移动到词尾 |
| `Ctrl + A` | 移动到行首 |
| `Ctrl + E` | 移动到行尾 |
| `Shift + PageUp` | 向前翻页 |
| `Shift + PageDown` | 向后翻页 |

### 编辑

| 快捷键 | 说明 |
| --- | --- |
| `Ctrl + C` | 中断命令 |
| `Ctrl + D` | 删除光标位置的字符，当前行无字符时退出 |
| `Ctrl + T` | 交换光标位置和光标前面的字符 |
| `Ctrl + W` | 删除光标位置的单词 |
| `Alt + T` | 交换光标位置和光标前面的单词 |
| `Alt + L` | 将光标位置至词尾转换为小写 |
| `Alt + U` | 将光标位置至词尾转换为大写 |

### 复制粘贴

| 快捷键 | 说明 |
| --- | --- |
| `Alt + Backspace` | 剪切光标位置到词首的文本 |
| `Alt + D` | 剪切光标位置到词尾的文本 |
| `Ctrl + U` | 剪切光标位置到行首的文本 |
| `Ctrl + K` | 剪切光标位置到行尾的文本 |
| `Ctrl + Y` | 在光标位置粘贴剪切的文本 |
| `Ctrl + Shift + C` | 复制选区 |
| `Ctrl + Shift + V` | 粘贴 |

### 清除屏幕

| 快捷键 | 说明 |
| --- | --- |
| `Ctrl + L` | 清除屏幕 |

### history

操作历史

* 登录时会读取~/.bash_history中的命令到当前Shell的历史命令
* 登出时会将当前Shell的最近HISTSIZE条历史记录写入~/.bash_history中

| 命令 | 说明 |
| --- | --- |
| `history` | 查看操作历史 |
| `history <N>` | 查看最近N条操作历史 |
| `history -c` | clear，清除操作历史 |

## 目录堆栈

### cd

进入工作目录

| 命令 | 说明 |
| --- | --- |
| `cd -` | 进入上一个工作目录 |

### dirs

显示目录堆栈

| 命令 | 说明 |
| --- | --- |
| `dirs` | 显示目录堆栈内容 |
| `dirs -p` | 每行一个条目 |
| `dirs -v` | 每行一个条目并带编号 |
| `dirs -l` | 主目录显示完整目录 |
| `dirs -c` | 清空目录堆栈 |
| `dirs +N` | 显示栈顶开始的第N个目录，从0开始 |
| `dirs -N` | 显示栈底开始的第N个目录，从0开始 |

### pushd

压人目录堆栈

| 命令 | 说明 |
| --- | --- |
| `pushd <dir>` | 将目录压人目录堆栈并进入该目录 |
| `pushd +N` | 将栈顶开始的第N个目录移动到栈顶，从0开始 |
| `pushd -N` | 将栈底开始的第N个目录移动到栈顶，从0开始 |

### popd

弹出目录堆栈

| 命令 | 说明 |
| --- | --- |
| `popd` | 删除栈顶目录并进入新的栈顶目录 |
| `popd +N` | 删除栈顶开始的第N个目录，从0开始 |
| `popd -N` | 删除栈底开始的第N个目录，从0开始 |

## 帮助

### help

显示命令的帮助信息

| 命令 | 说明 |
| --- | --- |
| `<command> --help` | 显示命令的帮助信息 |

### man

显示命令的man手册

| 命令 | 说明 |
| --- | --- |
| `man <command>` | 显示命令的使用手册 |


* h: 帮助
* q: 退出
* Space: 向下翻页
* PageDown: 向下翻页
* PageUp: 向上翻页
* g: 跳到第一行
* G: 跳到最后一行
* d：向下翻半页
* u：向上翻半页
* `/<string>`: 向下搜索字符串
* `?<string>`: 向上搜索字符串
* n: 下一个搜索
* N: 上一个搜索

### info

显示命令的info文档

| 命令 | 说明 |
| --- | --- |
| `info` | 显示info文档总览 |
| `info <command>` | 显示命令的info文档 |


* H: 帮助
* q: 退出
* Space: 向下翻页
* PageDown: 向下翻页
* PageUp: 向上翻页
* Tab: 在Node间移动
* b：移动到第一个Node
* e：移动到最后一个Node
* n: 前往下一个Node
* p：前往上一个Node
* u：前往父Node
* `/<string>`: 向下搜索字符串
